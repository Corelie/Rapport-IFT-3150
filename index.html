<!DOCTYPE html>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="rapportMona_css_Corelie_Godefroid.css">

</head>
<body>

    <nav>
        <div class="dropdown">
            <a class="btn btn-secondary dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" id="boutonHebdo">
              Rapports Hebdomadaires
            </a>
          
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#Semaine1">Semaine 1</a></li>
                <li><a class="dropdown-item" href="#Semaine2">Semaine 2</a></li>
                <li><a class="dropdown-item" href="#Semaine3">Semaine 3</a></li>
                <li><a class="dropdown-item" href="#Semaine4">Semaine 4</a></li>
                <li><a class="dropdown-item" href="#Semaine5">Semaine 5</a></li>
                <li><a class="dropdown-item" href="#Semaine6">Semaine 6</a></li>

            </ul>
          </div>
        <a href="#RapportFinal">Rapport Final</a> 
    </nav>
    <div  id="presentation">
        <div id="logoMona">
            <img src="https://picasso.iro.umontreal.ca/~mona/storage/logo.jpg" alt="logo mona" style="height: 100%; object-fit: contain;">
        </div>
        <div id="Titre">
            <h1 style=" padding-bottom: 0px; margin-bottom: 0px;">Corélie Godefroid</h1>
            <h2 style="padding-top: 0px; margin-top: 0px;">Été 2024</h2>
        </div>
       
    </div>
    <div class=" me-4">
        <h3>Présentation du projet</h3>
        <p>Le projet Mona est une application mobile qui permet de découvrir des oeuvres d'art public à Montréal. L'application utilise la géolocalisation pour permettre à l'utilisateur de découvrir des oeuvres d'art à proximité et de les ajouter à sa collection.
            Je participe au développement serveur du projet pendant la session d'été 2024 (du 1er mai 2024 au 15 août 2024). Les objectifs de cette participation sont dans un premier temps de me familiariser avec le code existant et ensuite de travailler avec le reste de l'équipe serveur ainsi que la partie de recherche du projet afin d'améliorer l'interface du serveur.
        <br>
        Les languages utilisés sont surtout Php et SQL.<br>
        Le projet est sous la supervision du profeseur Guy Lapalme.</p>
        </p>
        <h2>Rapports Hebdomadaires</h2>
        <h3 id ="Semaine1">Semaine 1 (Mai 1- Mai 8)</h3>
        <p>Cette semaine je n'ai malheureusement pas pu assister à la réunion. Cependant j'ai pu commencer en créeant cette page afin d'y consigner mes rapports hebdomadaires. Je me suis également
            familiarisée avec l'histoire de Mona, en lisant le blogue et les rapports, et avec l'application en temps que telle en profitant de mon temps libre pour
            aller la tester dehors. J'ai également été intégrée aux communications de groupes Element et au git du projet. </p>
        <h3 id ="Semaine2">Semaine 2 (Mai 9- Mai 15)</h3>
        <p>Cette semaine j'ai eu la chance de rencontrer l'équipe. Nous avons pu déterminer les rôles et il a été décidé que je travaillerai sur le serveur avec Simon.
            J'ai également été invitée à participer à une visite du campus de l'Université de Montréal afin de découvrir différentes oeuvres qui y sont exposées et d'utiliser 
            d'avantage l'application.
            J'ai également eu une courte réunion avec Simon qui m'a un peu expliqué le fonctionnement du serveur et m'a indiqué ce que je devais installer pour me connecter au serveur.
            J'ai commencé à faire cette installation mais j'ai malheureusement rencontré de nombreux problèmes qui se sont poursuivis dans la semaine suivante.
        </p>
        <h3 id ="Semaine3">Semaine 3 (Mai 16- Mai 22)</h3>
        <p> Cette semaine a surtout été marquée par les soucis d'ordinateur et d'installation que j'ai pu rencontrer et qui ne sont malheureusement toujours pas résolus. J'espère pouvoir en discuter avec l'équipe lors de 
            la réunion du 23 mai.
            J'ai du installer Docker et Laravel pour pouvoir travailler sur le serveur ce qui n'était pas des applications avec lesquelles j'étais familière. J'ai eu plusieurs difficultées lors de cette installation
            puisque je ne comprenais pas trop les commandes à effectuer et les erreurs que je rencontrais. Notamment je n'utilisais pas la commande git correcte pour cloner le projet et je n'autorisais pas correctement le programme à s'executer sur mon ordinateur.
            J'ai finallement, par hasard, pu voir quelqu'un d'autre exécuter un programme similaire et j'ai pu comprendre comment accorder les permissions correctement.
            Malheureusement, je n'ai pas pu avancer plus loin, une fois que j'exécute la commande pour lancer le serveur, celle-ci semble fonctionner dans le terminal mais je ne peux pas accéder à l'application en localhost.
            J'ai fait part de ce problème à Simon qui ne savait pas trop lui non plus d'où cela pouvait venir.
        </p>
        <h3 id ="Semaine4">Semaine 4 (Mai 23- Mai 29)</h3>
        <p>J'ai commencé cette semaine par une rencontre avec Léna et Sarah pour faire le point sur notre avancement. Sur les conseils de Léna j'ai commencé à lire le wiki du github pour essayer de trouver des réponses à certains de mes problèmes, ce qui malheureusement n'a pas été le cas mais le wiki ainsi que le miro de la structure du serveur ont permis de m'orienter un peu plus dans le projet en général.
         Lundi j'ai eu une autre rencontre avec Simon qui m'a aidé à résoudre certains problèmes (voir plus bas). Il a également été d'une grande aide pour m'expliquer mieux comment naviguer mon terminal et les commandes que je pouvais utiliser.
        Cependant un problème de connexion à la base de données persiste (SQLSTATE[HY000] [2002] Connection refused) et nous n'avons pas encore trouvé de solution.
        </p>
        <h4>Résolution des problèmes de WARN[0000]</h4>
        <p> En lançant le code j'obtenais les warning ci-dessous:</p>
        <img src="Screenshot_Warning.png" alt="warning" width="400px">
        <p>Ces erreurs provenait du fait que mon fichier .env n'existait pas.<br> Il existe par défaut dans le dossier mona-serveur un fichier .env.example (visible avec la commande ls -a) qui contient les données nécessaires mais qui par son nom n'est pas accessible.
            J'ai donc copié ce fichier et renommé la copie en .env ce qui a réglé ce problème. <br>
            <code>cp .env.example .env</code>
        </p>
        <h3 id ="Semaine5">Semaine 5 (Mai 30- Juin 5)</h3>
        <p> Cette semaine j'ai continué à discuter avec Simon pour essayer de comprendre mes problèmes de connexion. J'ai réussi à comprendre que certains problèmes provenait du fait que le fichier .env n'était pas connecté correctement. Il fallait modifier le db host pour qu'il soit connecté à mariadb (voir le tutoriel complet la semaine d'après).
            En attendant de résoudre ce problème j'ai commencé à lire le code du serveur pour essayer de comprendre comment il fonctionne. J'ai commencé à noter ce que je comprends du code au fur et à mesure dans un fichier Miro pour m'aider à m'y retrouver. Le Miro est disponible <a href="https://miro.com/app/board/uXjVK_5GXPQ=/?share_link_id=223955028395">ici</a>.
        </p>
        <h3 id ="Semaine6">Semaine 6 (Juin 6- Juin 13)</h3>
        <p>J'ai débuté cette semaine par un appel avec Simon pour essayer une fois de plus de résoudre mes problèmes. Après de nombreuses tentatives infructueuses j'ai décidé que j'allais effacer entièrement tout le système Linux de mon ordinateur ainsi que docker afin de recommencer tout au propre.
            Une fois cela fait et quelques recherches supplémentaires sur des commandes qu'il aurait pu me manquer j'ai enfin réussi à me connecter au serveur en localhost! Voir le tutoriel plus bas pour toutes les étapes précises à faire en cas de problème similaire. Après cela je n'ai malheureusement pas pu avancer plus loin puisque j'avais deux examens cette semaine.
        </p>
        <h4>Tutoriel pour se connecter au serveur</h4>
        <p>Voici les étapes à suivre pour se connecter au serveur en localhost (sur windows ou linux): </p>
        <ol>
            <li> (Pour windows) Installer WSL2 et Ubuntu (ou autre distribution linux), faites bien attention qu'ils soient installés correctement, je pense qu'une partie du problème provenait peut-être de là pour moi</li>
            <li> Installer Docker et Docker-compose <a href="https://docs.docker.com/desktop/install/ubuntu/">(lien)</a> (pour windows j'ai également téléchargé le fichier <a href="https://docs.docker.com/desktop/install/windows-install/">suivant</a>)</li>
            <li> (Pour windows) Ouvrir Docker desktop dans le fond </li>
            <li> Dans Ubuntu, cloner le projet Mona-serveur :<br>
            <code>git clone (lien du projet)</code><br>
            Le lien du projet est disponible sur le github de Mona-server<br> 
            <img src="Screenshot_lien_github_mona.png" alt="lien github" width="500px"><br>
            Il y a d'autres façons de cloner le projet mais moi je clonais à l'aide d'un personal access token, voici comment faire si c'est la première fois comme moi:<br>
            <ol>
                <li> Sur github aller dans settings -> Developer settings -> Personal access tokens -> Tokens (classic) -> Generate new token</li>
                <li> Créez votre token et bien le prendre en note car il ne sera plus disponible après (vous pouvez toujours en générer un nouveau si jamais vous le perdez)</li>
                <li> Une fois la commande git clone lancée il se peut que l'on demande un nom d'utilisateur, c'est votre nom d'utilisateur github.<br>
                Par contre attention le password <b> n'est pas votre mot de passe github</b>, il s'agit du personal access token que vous venez de créer.</li>
            </ol>
            </li>
            <li> Se déplacer dans le dossier du projet Mona-serveur <br>
            <code>cd mona-serveur</code>    </li>
            <li> Copier le fichier .env.example et le renommer en .env <br>
            <code>cp .env.example .env</code>    </li>
            <li> Il faut modifier le fichier .env puisqu'il doit être connecté à la base de données mariadb.
                <ol>
                    <li>Ouvrir le fichier .env en mode édition<br>
                    <code>vim .env</code></li>
                    <li>A l'aide des flèches du clavier se déplacer jusqu'à la ligne <b>DB_HOST= </b> appuyer sur <b>i</b> pour entrer en mode insertion et modifier la ligne pour qu'elle ressemble à ceci:<br>
                    <code>DB_HOST=mariadb</code></li>
                    <li>Appuyer sur <b>esc</b> pour sortir du mode insertion puis <b>:wq</b> pour sauvegarder et quitter le fichier</li>
                </ol>
            </li>
            <li> Lancer le serveur dans le fond à l'aide de la commande :<br>
                <code> ./vendor/laravel/sail/bin/sail up -d</code><br>
                Je n'ai personnellement pas eu à le faire mais il est possible qu'il faille permettre à ce fichier d'être exécuté à l'aide de la commande : <br>
                <code>chmod +x ./vendor/laravel/sail/bin/sail</code>
            </li>
            <li>Mettre à jour composer: <br>
            <code>./vendor/laravel/sail/bin/sail composer update</code></li>
            <li>Installer composer sur le projet: <br>
            <code>./vendor/laravel/sail/bin/sail composer install</code></li>
            <li> Générer la clé PHP: <br>
            <code>./vendor/laravel/sail/bin/sail php artisan key:generate</code></li>
            <li> Fermer le serveur qui roulait dans le fond: <br>
            <code>./vendor/laravel/sail/bin/sail down </code></li>
            <li> Relancer le serveur dans la console: <br>
            <code>./vendor/laravel/sail/bin/sail up</code></li>
            <li> Vous devriez maintenant pouvoir accéder à l'application en tapant localhost dans votre navigateur! De plus la console ne devrait pas afficher d'erreurs</li>
            <li> Pour arrêter le serveur entrer Ctrl+C dans la console puis :
            <code>./vendor/laravel/sail/bin/sail down</code>
            </li>

            
           
        </ol>
        <h3 id ="Semaine7">Semaine 7 (Juin 14- Juin 20)</h3>
        <p></p>
        <h3 id ="Semaine8">Semaine 8 (Juin 21- Juin 27)</h3>
        <p></p>
        <h3 id ="Semaine9">Semaine 9 (Juin 28- Juillet 4)</h3>
        <p></p>
        <h3 id ="Semaine10">Semaine 10 (Juillet 5- Juillet 11)</h3>
        <p></p>
        <h3 id ="Semaine11">Semaine 11 (Juillet 12- Juillet 18)</h3>
        <p></p>
        <h3 id ="Semaine12">Semaine 12 (Juillet 19- Juillet 25)</h3>
        <p></p>
        <h3 id ="Semaine13">Semaine 13 (Juillet 26- Août 1)</h3>
        <p></p>
        <h3 id ="Semaine14">Semaine 14 (Août 2- Août 8)</h3>
        <p></p>
        <h3 id ="Semaine15">Semaine 15 (Août 9- Août 15)</h3>
        <p></p>
    </div>
    <div id="RapportFinal">
        <h2>Rapport Final</h2>
        <p>Disponible bientôt</p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
